<!DOCTYPE html>
<html lang="en" class="transition-colors duration-500">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Medicine Catalog | RAM Pharmaceuticals</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" />
</head>
<body class="bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-500">

  <!-- Navbar -->
  <header class="bg-white dark:bg-gray-800 shadow-md p-4 flex justify-between items-center relative z-10">
    <h1 class="text-2xl font-bold text-green-700 dark:text-green-400">RAM Pharmaceuticals</h1>
    
    <!-- Hamburger Icon -->
    <button id="menu-toggle" class="md:hidden text-2xl">
      <i class="ri-menu-line"></i>
    </button>

    <!-- Navigation Links -->
    <nav id="nav-links"
      class="absolute top-16 left-0 w-full bg-white dark:bg-gray-800 shadow-md md:shadow-none md:bg-transparent md:dark:bg-transparent md:static hidden md:flex md:items-center flex-col md:flex-row md:space-x-4 px-6 py-4 md:p-0 space-y-4 md:space-y-0 transition-all duration-300">
      <a href="index.html" class="hover:text-green-600 dark:hover:text-green-300 font-medium transition duration-200">Home</a>
      <a href="meds.html" class="hover:text-green-600 dark:hover:text-green-300 font-medium transition duration-200">Medicines</a>
      <a href="contact.html" class="hover:text-green-600 dark:hover:text-green-300 font-medium transition duration-200">Contact</a>
    </nav>

    <!-- Dark Mode Toggle -->
    <button id="dark-toggle" class="hidden md:block bg-gray-200 dark:bg-gray-700 p-2 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition duration-200">
      <i id="dark-icon" class="ri-moon-line text-xl dark:text-yellow-400"></i>
    </button>
  </header>

  <!-- Mobile Dark Toggle -->
  <div class="md:hidden flex justify-end px-4 py-2 space-x-2">
    <button id="dark-toggle-m" class="bg-gray-200 dark:bg-gray-700 p-2 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition duration-200">
      <i id="dark-icon-m" class="ri-moon-line text-xl dark:text-yellow-400"></i>
    </button>
  </div>

  <!-- Main -->
  <main class="p-6 max-w-7xl mx-auto">
    <div class="mb-6">
      <input type="text" id="search" placeholder="Search medicines..." class="w-full p-3 border rounded-lg shadow-sm dark:bg-gray-800 dark:text-white dark:border-gray-600 focus:ring-2 focus:ring-green-500 outline-none" />
    </div>

    <div id="medicine-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      <!-- Cards generated by JS -->
    </div>
  </main>

  <!-- JavaScript -->
  <script>
    let medicines = JSON.parse(localStorage.getItem('medicines')) || [
      { name: 'Paracetamol', price: 50 },
      { name: 'Amoxicillin', price: 120 },
      { name: 'Ibuprofen', price: 80 },
      { name: 'Lisinopril', price: 130 },
      { name: 'Aspirin', price: 60 },
      { name: 'Metformin', price: 100 },
      { name: 'Simvastatin', price: 150 },
      { name: 'Omeprazole', price: 75 },
      { name: 'Atorvastatin', price: 140 },
      { name: 'Azithromycin', price: 200 }
    ];

    const container = document.getElementById('medicine-list');
    const search = document.getElementById('search');

    function render(list) {
      container.innerHTML = '';
      list.forEach(med => {
        const encodedName = encodeURIComponent(med.name);
        const div = document.createElement('div');
        div.className = 'bg-white dark:bg-gray-800 p-4 rounded shadow hover:shadow-xl transform hover:scale-105 transition duration-200 cursor-pointer';
        div.innerHTML = `
          <h3 class="text-lg font-bold text-green-700 dark:text-green-400 mb-2">${med.name}</h3>
          <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">Available in bulk. High quality guaranteed.</p>
          <p class="font-semibold text-black dark:text-white mb-4">Price: Ksh ${med.price}</p>
          <a href="order.html?medicine=${encodedName}" class="block bg-green-700 text-white text-center px-4 py-2 rounded hover:bg-green-800 transition">Order</a>
        `;
        container.appendChild(div);
      });
    }

    search.addEventListener('input', () => {
      const term = search.value.toLowerCase();
      const filtered = medicines.filter(med => med.name.toLowerCase().includes(term));
      render(filtered);
    });

    window.addEventListener('DOMContentLoaded', () => render(medicines));

    // Dark Mode Toggle
    const html = document.documentElement;
    const toggleBtn = document.getElementById("dark-toggle");
    const toggleBtnM = document.getElementById("dark-toggle-m");
    const icon = document.getElementById("dark-icon");
    const iconM = document.getElementById("dark-icon-m");

    if (localStorage.getItem("theme") === "dark") {
      html.classList.add("dark");
      icon?.classList.replace("ri-moon-line", "ri-sun-line");
      iconM?.classList.replace("ri-moon-line", "ri-sun-line");
    }

    toggleBtn?.addEventListener("click", () => {
      html.classList.toggle("dark");
      const isDark = html.classList.contains("dark");
      icon.classList.replace(isDark ? "ri-moon-line" : "ri-sun-line", isDark ? "ri-sun-line" : "ri-moon-line");
      iconM.classList.replace(isDark ? "ri-moon-line" : "ri-sun-line", isDark ? "ri-sun-line" : "ri-moon-line");
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });

    toggleBtnM?.addEventListener("click", () => {
      html.classList.toggle("dark");
      const isDark = html.classList.contains("dark");
      icon.classList.replace(isDark ? "ri-moon-line" : "ri-sun-line", isDark ? "ri-sun-line" : "ri-moon-line");
      iconM.classList.replace(isDark ? "ri-moon-line" : "ri-sun-line", isDark ? "ri-sun-line" : "ri-moon-line");
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });

    // Menu Toggle
    const menuToggle = document.getElementById("menu-toggle");
    const navLinks = document.getElementById("nav-links");

    menuToggle.addEventListener("click", () => {
      navLinks.classList.toggle("hidden");
    });
  </script>
</body>
</html>
